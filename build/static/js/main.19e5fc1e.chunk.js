(this["webpackJsonp6-10"]=this["webpackJsonp6-10"]||[]).push([[0],{18:function(e,n,t){e.exports=t(41)},40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(16),o=t.n(u),c=t(6),i=t(17),l=t(2),m=function(e){var n=e.PeopleToshow,t=e.deletePerson;return r.a.createElement("div",null,r.a.createElement("h2",null,"Numbers"),n().map((function(e){return r.a.createElement("div",{key:e.name},r.a.createElement("p",null,e.name),r.a.createElement("p",null,e.number),r.a.createElement("button",{onClick:function(){return t(e.id)}},"Delete"))})))},s=function(e){var n=e.searchText,t=e.handleSearch;return r.a.createElement("div",null,"Filter show with ",r.a.createElement("input",{value:n,onChange:t}))},d=function(e){return r.a.createElement("form",{onSubmit:e.handleAdd},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:e.newName,onChange:e.handleInputName})),r.a.createElement("div",null,"number ",r.a.createElement("input",{value:e.newNumber,onChange:e.handleInputNumber})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},f=t(4),h=t.n(f),p="/api/persons",b=function(){return h.a.get(p).then((function(e){return e.data}))},E=function(e){return h.a.post(p,JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data}))},v=function(e){return h.a.delete("".concat(p,"/").concat(e)).then((function(e){return e}))},g=function(e,n){return h.a.put("".concat(p,"/").concat(e),n,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data}))},w=function(e){var n=e.messageDisplay;return n.message?r.a.createElement("div",{className:"message-action-".concat(n.type)},n.message):""},O=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1];Object(a.useEffect)((function(){b().then((function(e){return u(e)}))}),[]);var o=Object(a.useState)(""),f=Object(l.a)(o,2),h=f[0],p=f[1],O=Object(a.useState)(""),y=Object(l.a)(O,2),j=y[0],N=y[1],S=Object(a.useState)(""),T=Object(l.a)(S,2),C=T[0],k=T[1],x=Object(a.useState)({message:"",type:""}),I=Object(l.a)(x,2),D=I[0],P=I[1],A=function(e){p(e.target.value)},J=function(){var e=h.toLowerCase();return J=e?t.filter((function(n){return-1!==n.name.toLowerCase().indexOf(e)||-1!==n.number.indexOf(e)})):Object(i.a)(t)};return r.a.createElement("div",null,r.a.createElement("h2",null," Phonebook "),r.a.createElement(w,{messageDisplay:D}),r.a.createElement(s,{searchText:h,handleSearch:A}),r.a.createElement(d,{newName:j,newNumber:C,handleSearch:A,handleAdd:function(e){if(e.preventDefault(),-1===t.map((function(e){return e.name})).indexOf(j))E({name:j,number:C}).then((function(e){u(t.concat(e)),N(""),k(""),P({message:"Added ".concat(j),type:"success"}),setTimeout((function(){P("")}),5e3)})).catch((function(e){return e.response.data.error})).then((function(e){return P({message:e,type:"error"})}));else if(window.confirm("This person is already added in the phonebook, do you want to replace this person?")){var n=t.find((function(e){return e.name===j})),a=Object(c.a)(Object(c.a)({},n),{},{name:j,number:C});g(a.id,a).then((function(e){u(t.map((function(n){return n.id!==a.id?n:e})))}))}},handleInputName:function(e){N(e.target.value)},handleInputNumber:function(e){k(e.target.value)}}),r.a.createElement(m,{PeopleToshow:J,deletePerson:function(e){window.confirm("Do you want to delete this person from phone book?")&&v(e).then((function(){return u(t.filter((function(n){return n.id!==e})))})).catch((function(n){P({message:"Information of ".concat(t.find((function(n){return n.id===e})).name," had already been removed from the server"),type:"error"}),setTimeout((function(){P({message:"",error:""})}),5e3),u(t.filter((function(n){return n.id!==e})))}))}}))};t(40);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.19e5fc1e.chunk.js.map